<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • gmailr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="gmailr.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gmailr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gmailr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/deploy-a-token.html">Deploy a token</a></li>
    <li><a class="dropdown-item" href="../articles/oauth-client.html">Set up an OAuth client</a></li>
    <li><a class="dropdown-item" href="../articles/sending_messages.html">Sending Messages With Gmailr</a></li>
  </ul></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2023/06/gmailr-1-0-0/">gmailr 2.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/08/gmailr-1-0-0/">gmailr 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/gmailr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/r-lib/gmailr/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="gmailr-development-version">gmailr (development version)<a class="anchor" aria-label="anchor" href="#gmailr-development-version"></a></h2>
<ul><li>
<p>All HTTP responses are passed through <code><a href="https://gargle.r-lib.org/reference/response_process.html" class="external-link">gargle::response_process()</a></code>, which updates gmailr’s error handling to be consistent with other packages that use gargle for HTTP requests. Users might notice that errors are more verbose (and hopefully more informative). Also the class vector has changed:</p>
<ul><li>Previously: <code>c("condition", "error", "gmail_error")</code>
</li>
<li>Now: <code>c("gmailr_error", "gargle_error_request_failed", "http_error_{XXX}", "gargle_error", "rlang_error", "error", "condition")</code>
</li>
</ul></li>
<li><p>Text headers, such as <code>Subject</code>, are now properly prepared as per RFC 2047, fixing a problem with long-ish headers that contain non-ASCII characters (<a href="https://github.com/r-lib/gmailr/issues/193" class="external-link">#193</a>).</p></li>
<li><p>Fixed MIME structure for emails with text+HTML bodies and attachments. These messages now correctly use nested <code>multipart/mixed</code> (outer) containing <code>multipart/alternative</code> (inner text/HTML), preventing the loss of some of the message parts (<a href="https://github.com/r-lib/gmailr/issues/202" class="external-link">#202</a>).</p></li>
</ul><div class="section level3">
<h3 id="deprecations-development-version">Deprecations<a class="anchor" aria-label="anchor" href="#deprecations-development-version"></a></h3>
<ul><li><p>Functions that lack the <code>gm_</code> prefix have been removed, concluding a deprecation process that kicked off with gmailr 1.0.0 (released 2019-08-23). These functions were hard deprecated in gmailr 2.0.0 (released 2023-06-30). This eliminates many name conflicts with other packages (including with the base package, e.g. <code><a href="https://rdrr.io/r/base/body.html" class="external-link">base::body()</a></code> or <code><a href="https://rdrr.io/r/base/message.html" class="external-link">base::message()</a></code>).</p></li>
<li><p>Legacy auth functions <code>clear_token()</code>, <code>gmail_auth()</code>, and <code>use_secret_file()</code> have been removed, following the same deprecation timeline as described above.</p></li>
<li><p><code><a href="../reference/gm_last_response.html">gm_last_response()</a></code> is deprecated, in favor of <code><a href="https://gargle.r-lib.org/reference/gargle_last_response.html" class="external-link">gargle::gargle_last_response()</a></code>, since gmailr no longer caches the last response itself.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="gmailr-200">gmailr 2.0.0<a class="anchor" aria-label="anchor" href="#gmailr-200"></a></h2><p class="text-muted">CRAN release: 2023-06-30</p>
<div class="section level3">
<h3 id="changes-around-the-oauth-client-2-0-0">Changes around the OAuth client<a class="anchor" aria-label="anchor" href="#changes-around-the-oauth-client-2-0-0"></a></h3>
<ul><li><p><a href="https://gmailr.r-lib.org/articles/oauth-client.html">Set up an OAuth client</a> is a new non-vignette article with detailed instructions for creating and configuring an OAuth client.</p></li>
<li><p><code><a href="../reference/gmailr-configuration.html">gm_default_oauth_client()</a></code> is a new helper that searches for the JSON file representing an OAuth client in a sequence of locations. The (file)path of least resistance is to place this file in the directory returned by <code>rappdirs::user_data_dir("gmailr")</code>. Another alternative is to record its filepath in the <code>GMAILR_OAUTH_CLIENT</code> environment variable. For backwards compatibility, the <code>GMAILR_APP</code> environment variable is still consulted, but generates a warning (<a href="https://github.com/r-lib/gmailr/issues/166" class="external-link">#166</a>).</p></li>
<li><p><code><a href="../reference/gm_auth.html">gm_auth()</a></code> no longer checks for an OAuth client before calling <code><a href="https://gargle.r-lib.org/reference/token_fetch.html" class="external-link">gargle::token_fetch()</a></code>. This allows other auth methods to work, which by and large don’t need an OAuth client, such as <code><a href="https://gargle.r-lib.org/reference/credentials_byo_oauth2.html" class="external-link">gargle::credentials_byo_oauth2()</a></code> (<a href="https://github.com/r-lib/gmailr/issues/160" class="external-link">#160</a>, <a href="https://github.com/r-lib/gmailr/issues/186" class="external-link">#186</a>).</p></li>
<li>
<p>If <code><a href="../reference/gm_auth.html">gm_auth()</a></code> fails to get a token and no OAuth client has been configured, it silently calls <code><a href="../reference/gm_auth_configure.html">gm_auth_configure()</a></code> to make one attempt at automatic client discovery. If an OAuth client is indeed discovered, <code><a href="../reference/gm_auth.html">gm_auth()</a></code> tries one more time to get a token.</p>
<p>Since the lack of an OAuth client undoubtedly remains the most common reason for <code><a href="../reference/gm_auth.html">gm_auth()</a></code> to fail, its error message includes some specific content if no OAuth client has been configured.</p>
</li>
</ul></div>
<div class="section level3">
<h3 id="storing-and-deploying-a-token-2-0-0">Storing and deploying a token<a class="anchor" aria-label="anchor" href="#storing-and-deploying-a-token-2-0-0"></a></h3>
<ul><li><p><code><a href="../reference/gm_token_write.html">gm_token_write()</a></code> + <code><a href="../reference/gm_token_write.html">gm_token_read()</a></code> is a new matched pair of functions that make it much easier to explicitly store a token obtained in an interactive session then reuse that token elsewhere, such in CI or in a deployed product (<a href="https://github.com/r-lib/gmailr/issues/190" class="external-link">#190</a>).</p></li>
<li><p>The directory <code>system.file("deployed-token-demo", package = "gmailr")</code> contains a working demo of how to use <code><a href="../reference/gm_token_write.html">gm_token_write()</a></code> + <code><a href="../reference/gm_token_write.html">gm_token_read()</a></code> in a deployed Shiny app.</p></li>
<li><p><code><a href="../articles/deploy-a-token.html">vignette("deploy-a-token")</a></code> is a new vignette describing how to capture a token interactively, for later use in a non-interactive setting.</p></li>
</ul></div>
<div class="section level3">
<h3 id="syncing-up-with-gargle-2-0-0">Syncing up with gargle<a class="anchor" aria-label="anchor" href="#syncing-up-with-gargle-2-0-0"></a></h3>
<p>Versions 1.3.0, 1.4.0, and 1.5.1 of gargle introduced some changes around OAuth and gmailr is syncing up that:</p>
<ul><li>
<code><a href="../reference/gm_auth_configure.html">gm_oauth_client()</a></code> is a new function to replace the now-deprecated <code><a href="../reference/gm_oauth_app.html">gm_oauth_app()</a></code>. This is somewhat about a vocabulary change (“client” instead of “app”), but it’s really connected to a more meaningful shift in gargle, which has a new appreciation for different OAuth client types (e.g., “installed” vs. “web”).</li>
<li>
<code><a href="../reference/gm_auth_configure.html">gm_oauth_client()</a></code> (and the function it’s replacing, <code><a href="../reference/gm_oauth_app.html">gm_oauth_app()</a></code>) no longer error if there is no configured OAuth client.</li>
<li>
<code><a href="../reference/gm_auth_configure.html">gm_auth_configure()</a></code> has an updated signature:
<ul><li><p>The first argument is now named <code>client</code>, which is morally equivalent to the previous <code>app</code>, i.e. this is essentially a name change.</p></li>
<li><p>The <code>key</code>, <code>secret</code>, <code>appname</code>, and <code>app</code> arguments are deprecated.</p></li>
<li>
<p>Our strong recommendation is to use the <code>path</code> argument, either explicitly::</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gm_auth_configure.html">gm_auth_configure</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"path/to/my-oauth-client.json"</span><span class="op">)</span></span></code></pre></div>
<p>or implicitly:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gm_auth_configure.html">gm_auth_configure</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>which works because of the new default: <code>gm_auth_configure(path = gm_default_oauth_client())</code>.</p>
</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-2-0-0">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-2-0-0"></a></h3>
<ul><li><p><code>gm_auth(subject =)</code> is a new argument that can be used with <code>gm_auth(path =)</code>, i.e. when using a service account. The <code>path</code> and <code>subject</code> arguments are ultimately processed by <code><a href="https://gargle.r-lib.org/reference/credentials_service_account.html" class="external-link">gargle::credentials_service_account()</a></code> and support the use of a service account to impersonate a regular user.</p></li>
<li><p><code><a href="../reference/gm_scopes.html">gm_scopes()</a></code> can now take a character vector of scopes, each of which can be an actual scope or a short alias, e.g., <code>"gmail.readonly"</code>, which identifies a scope associated with the Gmail API. When called without arguments, <code><a href="../reference/gm_scopes.html">gm_scopes()</a></code> still returns a named vector of Gmail API-specific scopes, where the names are the associated short aliases.</p></li>
<li>
<p>The deprecation process for legacy functions that lack the <code>gm_</code> prefix has been advanced. The functions are still present, but throw an error directing the user to switch to the prefixed version.</p>
<p>The unexported helper <code>gmailr:::gm_convert_file(list.files(pattern = "[.]R$", recursive = TRUE))</code> can be used to convert all R files in the current directory to the new names (<a href="https://github.com/r-lib/gmailr/issues/95" class="external-link">#95</a>).</p>
</li>
<li><p>Legacy auth functions <code>clear_token()</code>, <code>gmail_auth()</code>, and <code>use_secret_file()</code> now throw an error.</p></li>
<li>
<p>gmailr no longer <code>Imports</code> magrittr and no longer re-exports the magrittr pipe (<code>%&gt;%</code>). gmailr is a very pipe-friendly package, so this was originally done for user convenience (<a href="https://github.com/r-lib/gmailr/issues/42" class="external-link">#42</a>).</p>
<p>Since most users (those using R &gt;= 4.1) now have access to the base pipe (<code>|&gt;</code>), that is now what is shown in gmailr’s documentation. Those using R &lt; 4.1 can still use gmailr with <code>magrittr::%&gt;%</code>, but they will need to do <code><a href="https://magrittr.tidyverse.org" class="external-link">library(magrittr)</a></code> for themselves.</p>
<p>Any gmailr examples that use the base pipe will no longer work on R &lt; 4.1. On affected R versions, the examples are automatically converted to a regular section with a note that they might not work.</p>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="gmailr-101">gmailr 1.0.1<a class="anchor" aria-label="anchor" href="#gmailr-101"></a></h2><p class="text-muted">CRAN release: 2021-11-30</p>
<ul><li>Jenny Bryan is now the maintainer</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="gmailr-100">gmailr 1.0.0<a class="anchor" aria-label="anchor" href="#gmailr-100"></a></h2><p class="text-muted">CRAN release: 2019-08-23</p>
<div class="section level3">
<h3 id="breaking-changes-1-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-0-0"></a></h3>
<ul><li><p>All functions are now prefixed with <code>gm_*()</code> to avoid name conflicts with other packages (including the base package), the previous names have been deprecated and will be removed in future releases. Use <code>gmailr:::gm_convert_file(list.files(pattern = "[.]R$", recursive = TRUE))</code> to convert all R files in the current directory to the new names. (<a href="https://github.com/r-lib/gmailr/issues/95" class="external-link">#95</a>)</p></li>
<li><p>New <code><a href="../reference/gm_auth_configure.html">gm_auth_configure()</a></code> and <code><a href="../reference/gm_auth.html">gm_auth()</a></code> functions added conforming to the conventions in the <a href="https://cran.r-project.org/package=gargle" class="external-link">gargle</a> package. <code>gmail_auth()</code>, <code>clear_token()</code> and <code>use_secret_file()</code> are now deprecated and will be removed in a future release.</p></li>
<li><p>The google application bundled in previous gmailr releases has been removed, users will now need to create their own applications in order to use gmailr. See the <a href="https://github.com/r-lib/gmailr/blob/main/README.md#setup" class="external-link">Setup</a> section in the readme for details. This was necessary to comply with stricter enforcement of the API terms of service.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-1-0-0">New features<a class="anchor" aria-label="anchor" href="#new-features-1-0-0"></a></h3>
<ul><li><p>New <code>gm_attachements()</code> returns a data.frame of attachment information from a message or draft (<a href="https://github.com/r-lib/gmailr/issues/10" class="external-link">#10</a>, <a href="https://github.com/r-lib/gmailr/issues/24" class="external-link">#24</a>).</p></li>
<li><p>New <code><a href="../reference/gm_delete_draft.html">gm_delete_draft()</a></code> added to delete a draft email without sending it to the trash.</p></li>
<li><p>New <code><a href="../reference/gm_profile.html">gm_profile()</a></code> function to return the gmail profile of the currently logged in user (<a href="https://github.com/r-lib/gmailr/issues/114" class="external-link">#114</a>)</p></li>
<li><p>New <code><a href="../reference/gm_scopes.html">gm_scopes()</a></code> function to list the available scopes, and gmailr now requests only the full scope by default (<a href="https://github.com/r-lib/gmailr/issues/90" class="external-link">#90</a>)</p></li>
<li><p>More detailed examples added to the README and the vignette, including adding and referencing attachments in HTML email.</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-fixes-1-0-0">Minor improvements and fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-fixes-1-0-0"></a></h3>
<ul><li><p><code><a href="../reference/gm_body.html">gm_body()</a></code>, <code><a href="../reference/accessors.html">gm_to()</a></code>, <code><a href="../reference/accessors.html">gm_from()</a></code>, <code><a href="../reference/accessors.html">gm_cc()</a></code>, <code><a href="../reference/accessors.html">gm_bcc()</a></code> and <code><a href="../reference/accessors.html">gm_subject()</a></code> now automatically mark their output as UTF-8 (<a href="https://github.com/r-lib/gmailr/issues/47" class="external-link">#47</a>, <a href="https://github.com/r-lib/gmailr/issues/86" class="external-link">#86</a>)</p></li>
<li><p>Quoted-printable now works with smart quotes (<a href="https://github.com/r-lib/gmailr/issues/77" class="external-link">#77</a>)</p></li>
<li><p>Unicode text can now be used in email headers, including the Subject and address fields, like To and Cc (<a href="https://github.com/r-lib/gmailr/issues/76" class="external-link">#76</a>, <a href="https://github.com/r-lib/gmailr/issues/78" class="external-link">#78</a>)</p></li>
<li><p><code>print.gmail_message()</code> now only prints the parts of the message that are defined (<a href="https://github.com/r-lib/gmailr/issues/88" class="external-link">#88</a>) and now prints out the filenames of attachments (if any).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="gmailr-071">gmailr 0.7.1<a class="anchor" aria-label="anchor" href="#gmailr-071"></a></h2><p class="text-muted">CRAN release: 2016-04-12</p>
<ul><li>Bundle a application token and secret in gmailr so the average user won’t need to create an application.</li>
<li>Great number of bug fixes</li>
<li>Reworking the print functions to provide more useful and easy to read output</li>
<li>Added check for null response to fix bug with DELETE requests (<a href="https://github.com/r-lib/gmailr/issues/79" class="external-link">#79</a>) <a href="https://github.com/josibake" class="external-link">@josibake</a></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="gmailr-050">gmailr 0.5.0<a class="anchor" aria-label="anchor" href="#gmailr-050"></a></h2><p class="text-muted">CRAN release: 2014-09-19</p>
<div class="section level4">
<h4 id="major-changes-0-5-0">Major Changes<a class="anchor" aria-label="anchor" href="#major-changes-0-5-0"></a></h4>
<ul><li>Added ability to create and send drafts and messages. (<a href="https://github.com/r-lib/gmailr/issues/5" class="external-link">#5</a>, <a href="https://github.com/r-lib/gmailr/issues/6" class="external-link">#6</a>)</li>
<li>Added a number of tests for mime message creation derived from the <a href="http://search.cpan.org/~rjbs/Email-Stuffer-0.009/lib/Email/Stuffer.pm" class="external-link">Email::Stuffer</a> perl module.</li>
</ul></div>
<div class="section level4">
<h4 id="minor-fixes-0-5-0">Minor Fixes<a class="anchor" aria-label="anchor" href="#minor-fixes-0-5-0"></a></h4>
<ul><li>Namespace was not properly updated (<a href="https://github.com/r-lib/gmailr/issues/2" class="external-link">#2</a>)</li>
<li>added extraction functions for gmail_messages (<a href="https://github.com/r-lib/gmailr/issues/3" class="external-link">#3</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1" id="gmailr-001">gmailr 0.0.1<a class="anchor" aria-label="anchor" href="#gmailr-001"></a></h2><p class="text-muted">CRAN release: 2014-07-26</p>
<ul><li>Initial release</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.jimhester.com/" class="external-link">Jim Hester</a>, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

