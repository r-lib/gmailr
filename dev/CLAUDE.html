<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>gmailr: Gmail API Interface for R • gmailr</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="gmailr: Gmail API Interface for R"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="gmailr.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">gmailr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="articles/gmailr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/deploy-a-token.html">Deploy a token</a></li>
    <li><a class="dropdown-item" href="articles/oauth-client.html">Set up an OAuth client</a></li>
    <li><a class="dropdown-item" href="articles/sending_messages.html">Sending Messages With Gmailr</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2023/06/gmailr-1-0-0/">gmailr 2.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/08/gmailr-1-0-0/">gmailr 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/gmailr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>gmailr: Gmail API Interface for R</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/gmailr/blob/main/CLAUDE.md" class="external-link"><code>CLAUDE.md</code></a></small>
    </div>

<div id="gmailr-gmail-api-interface-for-r" class="section level1">

<div class="section level2">
<h2 id="package-overview">Package Overview<a class="anchor" aria-label="anchor" href="#package-overview"></a></h2>
<p>gmailr provides R access to the Gmail RESTful API, allowing users to read, send, and manage Gmail messages, threads, drafts, and labels. The package handles OAuth authentication via gargle and constructs MIME messages for email composition.</p>
</div>
<div class="section level2">
<h2 id="essential-commands">Essential Commands<a class="anchor" aria-label="anchor" href="#essential-commands"></a></h2>
<p>Always use <code>R --quiet --vanilla</code> when running R from the console.</p>
<p>Always run <code>air format .</code> after generating or modifying code.</p>
</div>
<div class="section level2">
<h2 id="development-workflow">Development Workflow<a class="anchor" aria-label="anchor" href="#development-workflow"></a></h2>
<p><strong>Testing</strong> Place tests in <code>tests/testthat/test-{name}.R</code> alongside corresponding source files. Run tests with <code>devtools::test()</code> or <code>devtools::test_file("tests/testthat/test-{name}.R")</code>. Do NOT use <code>test_active_file()</code>. All new code requires accompanying tests.</p>
<p><strong>Documentation</strong> After modifying roxygen2 comments, run <code>devtools::document()</code> to regenerate documentation. Export all user-facing functions with proper roxygen2 documentation. Add new function topics to the appropriate section in <code>_pkgdown.yml</code>. Use sentence case for documentation headings.</p>
<p><strong>Code Style</strong> Follow tidyverse style guide conventions. Use <code><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli::cli_abort()</a></code> for error messages with informative formatting. Organize code with “newspaper style”—main logic first, helper functions below.</p>
</div>
<div class="section level2">
<h2 id="key-technical-details">Key Technical Details<a class="anchor" aria-label="anchor" href="#key-technical-details"></a></h2>
<p><strong>Authentication</strong> OAuth authentication is managed through the gargle package. Users must provide their own OAuth client via <code><a href="reference/gm_auth_configure.html">gm_auth_configure()</a></code>. Authentication state is maintained across sessions. See <code>R/gm_auth.R</code> for implementation details.</p>
<p><strong>HTTP Requests</strong> All Gmail API calls go through httr. Request and response handling follows gargle conventions. The most recent API response is available via <code><a href="reference/gm_last_response.html">gm_last_response()</a></code> for debugging.</p>
<p><strong>MIME Message Construction</strong> Email messages are built using MIME (Multipurpose Internet Mail Extensions) format. The <code><a href="reference/gm_mime.html">gm_mime()</a></code> function creates a base MIME object, which is then populated using builder functions like <code><a href="reference/accessors.html">gm_to()</a></code>, <code><a href="reference/accessors.html">gm_subject()</a></code>, and <code><a href="reference/gm_mime.html">gm_text_body()</a></code>. See <code>R/gm_mime.R</code> for the implementation.</p>
<p><strong>Core Resources</strong> The package organizes around Gmail API resources: - <strong>Messages</strong> - Individual emails (<code>R/gm_message.R</code>) - <strong>Threads</strong> - Conversation threads (<code>R/gm_thread.R</code>) - <strong>Drafts</strong> - Draft messages (<code>R/gm_draft.R</code>) - <strong>Labels</strong> - Gmail labels/folders (<code>R/gm_label.R</code>) - <strong>Attachments</strong> - Email attachments (in <code>R/gm_message.R</code>)</p>
<p><strong>Testing Considerations</strong> Tests use recorded HTTP responses to avoid live API calls. Authentication is typically mocked in tests. The <code>helper.R</code> file in <code>tests/testthat/</code> provides testing utilities.</p>
</div>
<div class="section level2">
<h2 id="documentation-structure">Documentation Structure<a class="anchor" aria-label="anchor" href="#documentation-structure"></a></h2>
<p>The <code>_pkgdown.yml</code> organizes functions into logical groups: - Authentication and authorization - Messages - Threads - Drafts - Labels - Attachments - Email creation (MIME) - Miscellaneous tools</p>
<p>When adding new user-facing functions, ensure they’re documented and added to the appropriate section.</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.jimhester.com/" class="external-link">Jim Hester</a>, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

